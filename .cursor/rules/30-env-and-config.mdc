---
description: Environment variable and configuration discipline
alwaysApply: true
---

# Environment & Config Rules

1. Locations: Backend `apps/backend/.env`; Frontend `apps/frontend/.env.local`.
2. Example Files: Mirror new variables to corresponding `.env.example` variants.
3. Secrets: Use placeholder values; never real credentials.
4. Ports: FRONTEND_URL=<http://localhost:3000>, backend PORT=5000.
5. Database: `DATABASE_URL` required; `DIRECT_DATABASE_URL` for extension management.
6. Feature Flags: `USE_PGVECTOR` toggles vector similarity code paths.
7. Auth: Maintain `NEXTAUTH_SECRET`, token expiries, refresh token secrets.
8. Documentation: Update `docs/ENVIRONMENT.md` + README when adding or changing env keys.
9. Validation: Fail fast if mandatory env vars are missing in production context.
